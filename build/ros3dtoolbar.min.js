var ROS3DTOOLBAR=ROS3DTOOLBAR||{REVISION:"1"};ROS3DTOOLBAR.TFListManager=function(e){var t=this;e=e||{},this.ros=e.ros,this.elementId=e.elementId,this.fixedFrame=e.fixedFrame;var i=new ROSLIB.Service({ros:t.ros,name:"/tf_lister/request_list",serviceType:"tf_lister/TfLister"}),n=new ROSLIB.ServiceRequest({});i.callService(n,function(e){var i=document.getElementById(t.elementId);i.options.length=0;for(var n=e.tf_list,d=!1,a=0;n.length>a;a++){var o=document.createElement("option");o.setAttribute("value",n[a]),o.setAttribute("title",n[a]),o.innerHTML=n[a],i.appendChild(o),n[a]===t.fixedFrame&&(i.selectedIndex=a,d=!0)}d||(i.selectedIndex=0,t.fixedFrame=i.options[0].value,t.emit("change",t.fixedFrame))});var d=document.getElementById(this.elementId);d.addEventListener("click",function(){var e=document.getElementById(t.elementId).options,i=document.getElementById(t.elementId).selectedIndex;console.log("Your current fixed frame is..."),console.log(e[i].value),t.fixedFrame=e[i].value,t.emit("change",t.fixedFrame)})},ROS3DTOOLBAR.TFListManager.prototype.__proto__=EventEmitter2.prototype,ROS3DTOOLBAR.Toolbar=function(e){var t=this;e=e||{};var i=e.divID;this.ros=e.ros,this.rootObject=e.rootObject,this.currentFixedFrame=null,this.createdPopUp=!1,this.displayoptions=[],this.displayoptions.push(["Axes","AxesNode"]),this.displayoptions.push(["Camera","CameraNode"]),this.displayoptions.push(["Grid","GridNode"]),this.displayoptions.push(["InteractiveMarker","InteractiveMarkerNode"]),this.displayoptions.push(["LaserScan","LaserScanNode"]),this.displayoptions.push(["Marker","MarkerNode"]),this.displayoptions.push(["PointCloud2","PointCloud2Node"]),this.displayoptions.push(["RobotModel","RobotModelNode"]),this.displayoptions.push(["TF","TFNode"]);var n=document.getElementById(i),d=document.createElement("button");d.setAttribute("id","vis-panel-open"),d.innerHTML="<center> Visualization Control Panel </center>",n.appendChild(d);var a=document.createElement("div");a.setAttribute("id","visualization-dialog"),a.setAttribute("title","Visualization Control Panel");var o=document.createElement("div");o.setAttribute("id","visualizations"),a.appendChild(o),document.body.appendChild(a);var r=document.getElementById("vis-panel-open");r.addEventListener("click",function(){if(t.createdPopUp===!1){var e=document.getElementById("visualization-dialog"),i=document.createElement("div");i.setAttribute("id","main-container"),i.setAttribute("title","Visualization Control Panel");var n=document.createElement("div");n.setAttribute("id","upperContFixedFrame");var d=document.createElement("div");d.setAttribute("id","upperContAddDisplay");var a=document.createElement("div");a.setAttribute("id","optLabel"),a.innerHTML="Fixed Frame";var o=document.createElement("div");o.setAttribute("id","optLabel"),o.innerHTML="Display Type";var r=document.createElement("select");r.setAttribute("id","tfsDropdown");var s=document.createElement("select");s.setAttribute("id","addDisplayDropdown"),console.log(t.displayoptions.length);for(var l=0;t.displayoptions.length>l;l++){var p=document.createElement("option");p.setAttribute("value",t.displayoptions[l][0]),p.setAttribute("title",t.displayoptions[l][0]),p.innerHTML=t.displayoptions[l][0],s.appendChild(p)}var u=document.createElement("button");u.setAttribute("id","addDisplayBtn"),u.setAttribute("value","Add"),u.innerHTML="Add",n.appendChild(a),n.appendChild(r),d.appendChild(o),d.appendChild(s),d.appendChild(u),i.appendChild(n),i.appendChild(d);var c=document.createElement("div");c.setAttribute("id","midCont");var m=document.createElement("div");m.setAttribute("id","selectable_vis_list");var v=document.createElement("div");v.setAttribute("id","visualization_parameters"),c.appendChild(m),i.appendChild(c);var h=document.createElement("div");h.setAttribute("id","lowerCont");var b=document.createElement("input");b.setAttribute("type","button"),b.setAttribute("id","removeDisplayBtn"),b.setAttribute("value","Remove");var A=document.createElement("input");A.setAttribute("type","button"),A.setAttribute("id","applyBtn"),A.setAttribute("value","Apply"),h.appendChild(b),h.appendChild(A),i.appendChild(h),e.appendChild(i),new ROS3DTOOLBAR.TFListManager({ros:t.ros,elementId:"tfsDropdown",fixedFrame:"/base_link"}),t.createdPopUp=!0}$("#visualization-dialog").dialog({closeOnEscape:!1,height:"auto",width:"auto",resizable:"false"})})};